import{_ as y,a as c,b as e,t as n,h as _,w as u,v as p,i as r,l as w,d as v,F as b,g as f,k as S,m as F,n as M,p as g,q as k,e as A}from"./index-BrzBIH8i.js";const x={name:"AdoptModal",props:{pet:{type:Object,required:!0}},data(){return{form:{name:"",phone:"",reason:"",environment:""},submitting:!1}},methods:{close(){this.$emit("close")},async submitForm(){this.submitting=!0;try{await new Promise(s=>setTimeout(s,1e3)),this.$emit("submit",{...this.form,petId:this.pet.id})}catch(s){console.error("æäº¤å¤±è´¥:",s)}finally{this.submitting=!1}}}},T={class:"modal-content"},U={class:"modal-header"},I={class:"modal-body"},D={class:"pet-info-card"},q=["src","alt"],B={class:"pet-details"},V={class:"location"},Q={class:"form-group"},L={class:"form-group"},N={class:"form-group"},R={class:"form-group"},W={class:"form-actions"},Z=["disabled"];function O(s,t,a,h,d,o){return r(),c("div",{class:"modal-overlay",onClick:t[7]||(t[7]=_((...i)=>o.close&&o.close(...i),["self"]))},[e("div",T,[e("div",U,[e("h3",null,"ç”³è¯·é¢†å…» "+n(a.pet.name),1),e("button",{class:"close-btn",onClick:t[0]||(t[0]=(...i)=>o.close&&o.close(...i))},"Ã—")]),e("div",I,[e("div",D,[e("img",{src:a.pet.image,alt:a.pet.name},null,8,q),e("div",B,[e("h4",null,n(a.pet.name),1),e("p",null,n(a.pet.breed)+" Â· "+n(a.pet.age)+" Â· "+n(a.pet.gender==="male"?"å…¬":"æ¯"),1),e("p",V,"ğŸ“ "+n(a.pet.location),1)])]),e("form",{onSubmit:t[6]||(t[6]=_((...i)=>o.submitForm&&o.submitForm(...i),["prevent"]))},[e("div",Q,[t[8]||(t[8]=e("label",null,"ç”³è¯·äººå§“å *",-1)),u(e("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=i=>d.form.name=i),required:"",placeholder:"è¯·è¾“å…¥æ‚¨çš„å§“å"},null,512),[[p,d.form.name]])]),e("div",L,[t[9]||(t[9]=e("label",null,"è”ç³»ç”µè¯ *",-1)),u(e("input",{type:"tel","onUpdate:modelValue":t[2]||(t[2]=i=>d.form.phone=i),required:"",placeholder:"è¯·è¾“å…¥æ‚¨çš„æ‰‹æœºå·"},null,512),[[p,d.form.phone]])]),e("div",N,[t[10]||(t[10]=e("label",null,"é¢†å…»åŸå›  *",-1)),u(e("textarea",{"onUpdate:modelValue":t[3]||(t[3]=i=>d.form.reason=i),required:"",placeholder:"è¯·å‘Šè¯‰æˆ‘ä»¬æ‚¨ä¸ºä»€ä¹ˆæƒ³è¦é¢†å…»è¿™åªå® ç‰©...",rows:"4"},null,512),[[p,d.form.reason]])]),e("div",R,[t[11]||(t[11]=e("label",null,"å±…ä½ç¯å¢ƒæè¿°",-1)),u(e("textarea",{"onUpdate:modelValue":t[4]||(t[4]=i=>d.form.environment=i),placeholder:"è¯·æè¿°æ‚¨çš„å±…ä½ç¯å¢ƒï¼ˆæ˜¯å¦æœ‰é™¢å­ã€å®¶åº­æˆå‘˜æƒ…å†µç­‰ï¼‰...",rows:"3"},null,512),[[p,d.form.environment]])]),e("div",W,[e("button",{type:"button",class:"btn-cancel",onClick:t[5]||(t[5]=(...i)=>o.close&&o.close(...i))},"å–æ¶ˆ"),e("button",{type:"submit",class:"btn-submit",disabled:d.submitting},n(d.submitting?"æäº¤ä¸­...":"æäº¤ç”³è¯·"),9,Z)])],32)])])])}const j=y(x,[["render",O],["__scopeId","data-v-1c048c1b"]]),z={name:"ShareModal",props:{pet:{type:Object,required:!0}},data(){return{showCopySuccess:!1}},computed:{shareUrl(){return`${window.location.origin}/pet/${this.pet.id}`}},methods:{close(){this.$emit("close")},shareToWechat(){alert("å¾®ä¿¡åˆ†äº«åŠŸèƒ½éœ€è¦å¾®ä¿¡å…¬ä¼—å·æˆ–å°ç¨‹åºçš„AppId")},shareToWeibo(){const s=encodeURIComponent(this.shareUrl),t=encodeURIComponent(`å¿«æ¥é¢†å…»å¯çˆ±çš„${this.pet.name}ï¼`),a=encodeURIComponent(this.pet.image);window.open(`http://service.weibo.com/share/share.php?url=${s}&title=${t}&pic=${a}`,"_blank")},shareToQQ(){const s=encodeURIComponent(this.shareUrl),t=encodeURIComponent(`é¢†å…»${this.pet.name} - ä¸€åªå¯çˆ±çš„${this.pet.breed}`),a=encodeURIComponent(`è¿™åªå¯çˆ±çš„${this.pet.breed}æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªæ¸©æš–çš„å®¶ï¼`),h=encodeURIComponent(this.pet.image);window.open(`http://connect.qq.com/widget/shareqq/index.html?url=${s}&title=${t}&desc=${a}&pics=${h}`,"_blank")},async copyLink(){try{await navigator.clipboard.writeText(this.shareUrl),alert("é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼")}catch{this.$refs.linkInput.select(),document.execCommand("copy"),alert("é“¾æ¥å·²å¤åˆ¶åˆ°å‰ªè´´æ¿ï¼")}}}},J={class:"modal-content"},E={class:"modal-header"},G={class:"modal-body"},H={class:"share-preview"},K=["src","alt"],X={class:"preview-info"},Y={class:"share-text"},$={class:"share-methods"},ee={class:"method-grid"},te={class:"share-link"},se={class:"link-container"},oe=["value"];function le(s,t,a,h,d,o){return r(),c("div",{class:"modal-overlay",onClick:t[6]||(t[6]=_((...i)=>o.close&&o.close(...i),["self"]))},[e("div",J,[e("div",E,[e("h3",null,"åˆ†äº« "+n(a.pet.name),1),e("button",{class:"close-btn",onClick:t[0]||(t[0]=(...i)=>o.close&&o.close(...i))},"Ã—")]),e("div",G,[e("div",H,[e("img",{src:a.pet.image,alt:a.pet.name},null,8,K),e("div",X,[e("h4",null,n(a.pet.name),1),e("p",null,n(a.pet.breed)+" Â· "+n(a.pet.age)+" Â· "+n(a.pet.gender==="male"?"å…¬":"æ¯"),1),e("p",Y,"è¿™åªå¯çˆ±çš„"+n(a.pet.breed)+"æ­£åœ¨å¯»æ‰¾ä¸€ä¸ªæ¸©æš–çš„å®¶ï¼",1)])]),e("div",$,[t[11]||(t[11]=e("h4",null,"åˆ†äº«åˆ°",-1)),e("div",ee,[e("button",{class:"method-btn wechat",onClick:t[1]||(t[1]=(...i)=>o.shareToWechat&&o.shareToWechat(...i))},[...t[7]||(t[7]=[e("span",{class:"method-icon"},"ğŸ’¬",-1),e("span",{class:"method-name"},"å¾®ä¿¡",-1)])]),e("button",{class:"method-btn weibo",onClick:t[2]||(t[2]=(...i)=>o.shareToWeibo&&o.shareToWeibo(...i))},[...t[8]||(t[8]=[e("span",{class:"method-icon"},"ğŸ¦",-1),e("span",{class:"method-name"},"å¾®åš",-1)])]),e("button",{class:"method-btn qq",onClick:t[3]||(t[3]=(...i)=>o.shareToQQ&&o.shareToQQ(...i))},[...t[9]||(t[9]=[e("span",{class:"method-icon"},"ğŸ‘¥",-1),e("span",{class:"method-name"},"QQ",-1)])]),e("button",{class:"method-btn link",onClick:t[4]||(t[4]=(...i)=>o.copyLink&&o.copyLink(...i))},[...t[10]||(t[10]=[e("span",{class:"method-icon"},"ğŸ”—",-1),e("span",{class:"method-name"},"å¤åˆ¶é“¾æ¥",-1)])])])]),e("div",te,[t[12]||(t[12]=e("label",null,"åˆ†äº«é“¾æ¥ï¼š",-1)),e("div",se,[e("input",{type:"text",readonly:"",value:o.shareUrl,ref:"linkInput"},null,8,oe),e("button",{class:"copy-btn",onClick:t[5]||(t[5]=(...i)=>o.copyLink&&o.copyLink(...i))},"å¤åˆ¶")])]),t[13]||(t[13]=e("div",{class:"share-tips"},[e("p",null,"ğŸ’¡ æç¤ºï¼šåˆ†äº«å¯ä»¥å¸®åŠ©æ›´å¤šçˆ±å¿ƒäººå£«å‘ç°è¿™ä¸ªå¯çˆ±çš„ç”Ÿå‘½ï¼")],-1))])])])}const ae=y(z,[["render",le],["__scopeId","data-v-ace32710"]]),ie={name:"FavoritesView",components:{AdoptModal:j,ShareModal:ae},data(){return{activeFilter:"all",sortBy:"date",showAdoptModal:!1,showShareModal:!1,selectedPet:null,filters:[{id:"all",text:"å…¨éƒ¨"},{id:"available",text:"å¾…é¢†å…»"},{id:"adopted",text:"å·²è¢«é¢†å…»"},{id:"dogs",text:"ç‹—ç‹—"},{id:"cats",text:"çŒ«å’ª"}],favoritePets:[],recommendedPets:[{id:201,name:"å°ç™½",breed:"è¨æ‘©è€¶",image:"https://images.unsplash.com/photo-1517849845537-4d257902454a?w=400",age:"2å²",gender:"female",location:"æ­å·å¸‚"},{id:202,name:"å°é»‘",breed:"æ‹‰å¸ƒæ‹‰å¤š",image:"https://images.unsplash.com/photo-1583512603805-3cc6b41f3edb?w=400",age:"1å²",gender:"male",location:"å—äº¬å¸‚"},{id:203,name:"å°èŠ±",breed:"å¸ƒå¶çŒ«",image:"https://images.unsplash.com/photo-1513360371669-4adf3dd7dff8?w=400",age:"1.5å²",gender:"female",location:"æ­¦æ±‰å¸‚"}]}},computed:{availablePetsCount(){return this.favoritePets.filter(s=>s.status==="available").length},adoptedPetsCount(){return this.favoritePets.filter(s=>s.status==="adopted").length},filteredAndSortedPets(){let s=[...this.favoritePets];return this.activeFilter==="available"?s=s.filter(t=>t.status==="available"):this.activeFilter==="adopted"?s=s.filter(t=>t.status==="adopted"):this.activeFilter==="dogs"?s=s.filter(t=>t.type==="dog"):this.activeFilter==="cats"&&(s=s.filter(t=>t.type==="cat")),this.sortBy==="date"?s.sort((t,a)=>new Date(a.collectedAt)-new Date(t.collectedAt)):this.sortBy==="name"?s.sort((t,a)=>t.name.localeCompare(a.name)):this.sortBy==="popularity"?s.sort((t,a)=>a.popularity-t.popularity):this.sortBy==="time"&&s.sort((t,a)=>t.status==="available"&&a.status!=="available"?-1:t.status!=="available"&&a.status==="available"?1:0),s}},created(){this.loadFavorites()},methods:{loadFavorites(){try{const s=localStorage.getItem("favoritePets");s?this.favoritePets=JSON.parse(s):this.favoritePets=this.getSampleFavorites()}catch(s){console.error("åŠ è½½æ”¶è—å¤±è´¥:",s),this.favoritePets=this.getSampleFavorites()}},getSampleFavorites(){return[{id:1,name:"å¸ƒä¸",breed:"å¸ƒå¶çŒ«",image:"https://images.unsplash.com/photo-1513360371669-4adf3dd7dff8?w=400",age:"10ä¸ªæœˆ",gender:"female",location:"æ­å·å¸‚è¥¿æ¹–åŒº",type:"cat",status:"available",tags:["å®‰é™","äº²äºº","å·²ç»è‚²"],description:"æ¸©é¡ºçš„å¸ƒå¶çŒ«ï¼Œæ€§æ ¼æ¸©å’Œï¼Œå–œæ¬¢è¢«æŠ±æŠ±",popularity:203,collectedAt:"2024-01-15T10:30:00Z"},{id:5,name:"å˜Ÿå˜Ÿ",breed:"æ³•å›½æ–—ç‰›çŠ¬",image:"https://images.unsplash.com/photo-1537151625747-768eb6cf92b2?w=400",age:"2å²",gender:"male",location:"æ­¦æ±‰å¸‚æ±Ÿæ±‰åŒº",type:"dog",status:"available",tags:["æ´»æ³¼","å‹å¥½","å°å‹çŠ¬"],description:"æ´»æ³¼å¯çˆ±çš„æ³•å›½æ–—ç‰›çŠ¬ï¼Œå–œæ¬¢ç©è€",popularity:176,collectedAt:"2024-01-10T14:20:00Z"},{id:3,name:"é›ªçƒ",breed:"æ¯”ç†ŠçŠ¬",image:"https://images.unsplash.com/photo-1587300003388-59208cc962cb?w=400",age:"1.5å²",gender:"female",location:"æ·±åœ³å¸‚å—å±±åŒº",type:"dog",status:"available",tags:["èªæ˜","æ´»æ³¼","å·²è®­ç»ƒ"],description:"èªæ˜æ´»æ³¼çš„æ¯”ç†ŠçŠ¬ï¼Œå·²ç»å®ŒæˆåŸºç¡€è®­ç»ƒ",popularity:145,collectedAt:"2024-01-05T09:15:00Z"},{id:8,name:"çš®çš®",breed:"å“ˆå£«å¥‡",image:"https://images.unsplash.com/photo-1596492784531-6e6eb5ea9993?w=400",age:"1å²",gender:"male",location:"é•¿æ²™å¸‚å²³éº“åŒº",type:"dog",status:"adopted",tags:["æ´»æ³¼","å‹å–„","éœ€è¦è¿åŠ¨"],description:"æ´»æ³¼å¥½åŠ¨çš„å“ˆå£«å¥‡ï¼Œéœ€è¦è¾ƒå¤§çš„æ´»åŠ¨ç©ºé—´",popularity:134,collectedAt:"2024-01-02T16:45:00Z"}]},changeFilter(s){this.activeFilter=s},removeFromFavorites(s){confirm(`ç¡®å®šè¦å–æ¶ˆæ”¶è— "${s.name}" å—ï¼Ÿ`)&&(this.favoritePets=this.favoritePets.filter(t=>t.id!==s.id),this.saveFavorites())},saveFavorites(){try{localStorage.setItem("favoritePets",JSON.stringify(this.favoritePets))}catch(s){console.error("ä¿å­˜æ”¶è—å¤±è´¥:",s)}},viewPetDetails(s){alert(`æŸ¥çœ‹å® ç‰©è¯¦æƒ…: ${s.name}`)},showAdoptModal(s){s.status==="available"&&(this.selectedPet=s,this.showAdoptModal=!0)},sharePet(s){this.selectedPet=s,this.showShareModal=!0},closeModal(){this.showAdoptModal=!1,this.selectedPet=null},closeShareModal(){this.showShareModal=!1,this.selectedPet=null},handleAdoptSubmit(s){console.log("é¢†å…»ç”³è¯·:",s),alert(`é¢†å…»ç”³è¯·å·²æäº¤ï¼
å® ç‰©ï¼š${this.selectedPet.name}
æˆ‘ä»¬ä¼šå°½å¿«å¤„ç†æ‚¨çš„ç”³è¯·ã€‚`),this.closeModal()},truncateDescription(s,t){return s.length<=t?s:s.substring(0,t)+"..."},formatDate(s){return new Date(s).toLocaleDateString("zh-CN",{month:"long",day:"numeric"})}}},ne={class:"favorites-view"},de={class:"favorites-banner"},re={class:"banner-content"},ce={class:"banner-text"},me={class:"favorites-stats"},ue={class:"stat-item"},he={class:"stat-number"},pe={class:"stat-item"},ve={class:"stat-number"},be={class:"stat-item"},fe={class:"stat-number"},ge={class:"filters-section"},_e={class:"container"},ye={class:"filters-row"},we={class:"filter-group"},ke={class:"filter-buttons"},Ce=["onClick"],Pe={class:"filter-group"},Se={class:"container"},Fe={key:0,class:"favorites-grid"},Me={class:"pet-card-header"},Ae=["onClick"],xe=["onClick"],Te=["src","alt"],Ue={class:"pet-info"},Ie={class:"pet-name-row"},De={class:"pet-name"},qe={class:"pet-breed"},Be={class:"pet-meta"},Ve={class:"meta-item"},Qe={class:"meta-item"},Le={class:"meta-icon"},Ne={class:"meta-item"},Re={class:"pet-tags"},We={key:0,class:"tag-more"},Ze={class:"pet-description"},Oe={class:"pet-actions"},je=["disabled","onClick"],ze=["onClick"],Je={class:"collection-info"},Ee={class:"info-text"},Ge={key:1,class:"empty-favorites"},He={class:"empty-content"},Ke={key:2,class:"recommendations"},Xe={class:"recommendations-grid"},Ye=["onClick"],$e=["src","alt"],et={class:"rec-info"};function tt(s,t,a,h,d,o){const i=g("router-link"),C=g("AdoptModal"),P=g("ShareModal");return r(),c("div",ne,[e("div",de,[e("div",re,[e("div",ce,[t[4]||(t[4]=e("h1",null,"ğŸ¾ æˆ‘çš„æ”¶è—",-1)),t[5]||(t[5]=e("p",null,"æŸ¥çœ‹ä½ å¿ƒä»ªçš„å® ç‰©ï¼Œéšæ—¶å‡†å¤‡ç»™å®ƒä»¬ä¸€ä¸ªæ¸©æš–çš„å®¶",-1)),e("div",me,[e("div",ue,[e("span",he,n(d.favoritePets.length),1),t[1]||(t[1]=e("span",{class:"stat-label"},"åªæ”¶è—çš„å® ç‰©",-1))]),e("div",pe,[e("span",ve,n(o.availablePetsCount),1),t[2]||(t[2]=e("span",{class:"stat-label"},"åªå¾…é¢†å…»",-1))]),e("div",be,[e("span",fe,n(o.adoptedPetsCount),1),t[3]||(t[3]=e("span",{class:"stat-label"},"å·²è¢«é¢†å…»",-1))])])]),t[6]||(t[6]=e("div",{class:"banner-illustration"},[e("span",{class:"emoji"},"ğŸ’–")],-1))])]),e("div",ge,[e("div",_e,[e("div",ye,[e("div",we,[t[7]||(t[7]=e("label",null,"ç­›é€‰ï¼š",-1)),e("div",ke,[(r(!0),c(b,null,f(d.filters,l=>(r(),c("button",{key:l.id,class:k(["filter-btn",{active:d.activeFilter===l.id}]),onClick:m=>o.changeFilter(l.id)},n(l.text),11,Ce))),128))])]),e("div",Pe,[t[9]||(t[9]=e("label",null,"æ’åºï¼š",-1)),u(e("select",{"onUpdate:modelValue":t[0]||(t[0]=l=>d.sortBy=l),class:"sort-select"},[...t[8]||(t[8]=[e("option",{value:"date"},"æŒ‰æ”¶è—æ—¶é—´",-1),e("option",{value:"name"},"æŒ‰åå­— A-Z",-1),e("option",{value:"popularity"},"æŒ‰çƒ­é—¨ç¨‹åº¦",-1),e("option",{value:"time"},"å¾…é¢†å…»æ—¶é—´",-1)])],512),[[S,d.sortBy]])])])])]),e("div",Se,[o.filteredAndSortedPets.length>0?(r(),c("div",Fe,[(r(!0),c(b,null,f(o.filteredAndSortedPets,l=>(r(),c("div",{key:l.id,class:"favorite-card"},[e("div",Me,[e("div",{class:k(["pet-status",l.status])},n(l.status==="available"?"å¾…é¢†å…»":"å·²è¢«é¢†å…»"),3),e("button",{class:"remove-favorite-btn",onClick:m=>o.removeFromFavorites(l),title:"å–æ¶ˆæ”¶è—"}," âŒ ",8,Ae)]),e("div",{class:"pet-image",onClick:m=>o.viewPetDetails(l)},[e("img",{src:l.image,alt:l.name},null,8,Te),t[10]||(t[10]=e("div",{class:"pet-overlay"},[e("span",{class:"overlay-text"},"æŸ¥çœ‹è¯¦æƒ…")],-1))],8,xe),e("div",Ue,[e("div",Ie,[e("h3",De,n(l.name),1),e("span",qe,n(l.breed),1)]),e("div",Be,[e("div",Ve,[t[11]||(t[11]=e("span",{class:"meta-icon"},"ğŸ‚",-1)),e("span",null,n(l.age),1)]),e("div",Qe,[e("span",Le,n(l.gender==="male"?"â™‚":"â™€"),1),e("span",null,n(l.gender==="male"?"å…¬":"æ¯"),1)]),e("div",Ne,[t[12]||(t[12]=e("span",{class:"meta-icon"},"ğŸ“",-1)),e("span",null,n(l.location),1)])]),e("div",Re,[(r(!0),c(b,null,f(l.tags.slice(0,2),m=>(r(),c("span",{class:"tag",key:m},n(m),1))),128)),l.tags.length>2?(r(),c("span",We,"+"+n(l.tags.length-2),1)):v("",!0)]),e("p",Ze,n(o.truncateDescription(l.description,60)),1),e("div",Oe,[e("button",{class:"btn-primary",disabled:l.status!=="available",onClick:m=>o.showAdoptModal(l)},n(l.status==="available"?"ç”³è¯·é¢†å…»":"å·²è¢«é¢†å…»"),9,je),e("button",{class:"btn-secondary",onClick:m=>o.sharePet(l)}," ğŸ“¤ åˆ†äº« ",8,ze)]),e("div",Je,[e("span",Ee,"â¤ï¸ æ”¶è—äº "+n(o.formatDate(l.collectedAt)),1)])])]))),128))])):(r(),c("div",Ge,[e("div",He,[t[14]||(t[14]=e("div",{class:"empty-icon"},"ğŸ’”",-1)),t[15]||(t[15]=e("h3",null,"æš‚æ— æ”¶è—çš„å® ç‰©",-1)),t[16]||(t[16]=e("p",null,"å¿«å»é¦–é¡µå‘ç°ä½ å¿ƒä»ªçš„å® ç‰©ï¼Œç‚¹å‡»çˆ±å¿ƒæŒ‰é’®æ”¶è—å®ƒä»¬å§ï¼",-1)),F(i,{to:"/",class:"btn-explore"},{default:M(()=>[...t[13]||(t[13]=[A(" ğŸ• å»é¦–é¡µé€›é€› ",-1)])]),_:1})])])),o.filteredAndSortedPets.length>0?(r(),c("div",Ke,[t[17]||(t[17]=e("h3",{class:"section-title"},"âœ¨ ä½ å¯èƒ½è¿˜ä¼šå–œæ¬¢",-1)),e("div",Xe,[(r(!0),c(b,null,f(d.recommendedPets,l=>(r(),c("div",{key:l.id,class:"recommendation-card",onClick:m=>o.viewPetDetails(l)},[e("img",{src:l.image,alt:l.name},null,8,$e),e("div",et,[e("h4",null,n(l.name),1),e("p",null,n(l.breed),1)])],8,Ye))),128))])])):v("",!0)]),o.showAdoptModal?(r(),w(C,{key:0,pet:d.selectedPet,onClose:o.closeModal,onSubmit:o.handleAdoptSubmit},null,8,["pet","onClose","onSubmit"])):v("",!0),d.showShareModal?(r(),w(P,{key:1,pet:d.selectedPet,onClose:o.closeShareModal},null,8,["pet","onClose"])):v("",!0)])}const ot=y(ie,[["render",tt],["__scopeId","data-v-922d941d"]]);export{ot as default};
